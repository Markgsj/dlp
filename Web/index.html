
<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#111111">
  <!-- iOS PWA meta -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DLP Trip Assistant</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:0; }
    header { padding: 12px 16px; background:#111; color:#fff; }
    #status { padding: 8px 16px; font-size: 14px; background: #f5f5f5; }
    #map { height: 60vh; }
    #controls { padding: 12px 16px; display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    #rides { padding: 12px 16px; }
    .badge { display:inline-block; padding:2px 8px; border-radius: 999px; background:#eee; margin-left:6px; }
    .ride { border-bottom:1px solid #eee; padding:8px 0; display:flex; justify-content:space-between; align-items:center; }
    .is-open { color: #0a7a2f; }
    .is-closed { color: #b30000; }
    footer { padding:12px 16px; font-size:12px; color:#555; }
  </style>
</head>
<body>
  <header>
    <strong>DLP Trip Assistant</strong>
    <span class="badge">Beta</span>
  </header>
  <div id="status">Loadingâ€¦</div>
  <div id="map"></div>
  <div id="controls">
    <label>Park:
      <select id="park">
        <option value="4">Disneyland Park</option>
        <option value="6">Walt Disney Studios</option>
      </select>
    </label>
    <button id="refresh">Refresh</button>
    <label><input type="checkbox" id="notifyDown" checked/> Alert when a ride goes down</label>
    <label><input type="checkbox" id="notifyRain" checked/> Rain alert (next 3 hours)</label>
  </div>
  <div id="rides"></div>
  <footer>
    Data: Powered by <a href="https://queue-times.com/en-US" target="_blank" rel="noopener">Queue-Times.com</a>. Weather by OpenWeather.
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="app.js"></script>
  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js').catch(console.warn);
    });
  }
  </script>
</body>
</html>
